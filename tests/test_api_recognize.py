from json import loads
test_base64_image = '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'

def test_request_recognize(client):
    response = client.post('/api/recognize',
        json={
            'content': test_base64_image
        },
    )
    assert loads(response.data) == {
        'details': 'Image(100, 100)',
        'state': 'ResponseState.success'
    }
